## **도박 만들기[4.5~]**
## **1.버튼을 누르면 돌아가는 룰렛[결과값 출력]**
- **Roullet**
```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class Roullet : MonoBehaviour
{
    public float rotSpeed = 0.0f; //회전속도
    public float transSpeed = 5.0f; //이동속도
    
    //버튼값을 가져오기 위한 변수 선언
    RoulletButton Button; 

    //거리 측정을 위한 오브젝트를 가져오기 위한 변수 선언
    GameObject Money1;
    GameObject Money2;
    GameObject Money3;
    GameObject Bomb1;
    GameObject Bomb2;
    GameObject Bomb3;
    GameObject Niddle;

    //거리 측정 값을 저장하기 위한 변수 선언
    public float a;
    public float b;
    public float c;
    public float d;
    public float e;
    public float f;

    //최솟값을 가져오기 위한 변수 선언
    public float Finalmin;

    //룰렛 결과를 가져오기 위한 변수 선언
    GameObject Result;
    public string result_text;
    public int Re;

    //버튼 텍스트를 바꾸기 위한 오브젝트 선언
    GameObject RS;

    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        //RButton 버튼[오브젝트]에 있는 코드를 가져와서 Button 변수에 저장
        GameObject obj = GameObject.Find ("RButton");
		if (obj != null){
			Button = obj.GetComponent<RoulletButton>();
        }
        //RoulletButton start변수가 1이 될 시 룰렛을 돌려준다[버튼 클릭]
        if(Button.start == 1){ //마우스 입력을 받을 때 속도를 지정해주고 룰렛을 돌려준다.
            rotSpeed = 30f; //마우스를 누를 때는 10f 속도가 지속된다
        }

        //버튼을 한 번 더 누를시 룰렛에 가속도 값을 줘서 룰렛을 천천히 멈춰준다.
        if(Button.start == 2){
        rotSpeed *= 0.96f; //마우스를 누르지 않을 시 속도 * 0.96을 함으로서 속도를 줄여준다(가속도)
            if(rotSpeed < 0.00001f){
                //룰렛 완전 정지
                rotSpeed = 0.0f;
                
                
                //오브젝트 값 저장
                Money1 = GameObject.Find("Money1");
                Money2 = GameObject.Find("Money2");
                Money3 = GameObject.Find("Money3");
                Bomb1 = GameObject.Find("Bomb1");
                Bomb2 = GameObject.Find("Bomb2");
                Bomb3 = GameObject.Find("Bomb3");
                Niddle = GameObject.Find("Niddle"); 

                //룰렛 완전 정지 시 바늘과의 거리값 측정
                a = Vector2.Distance(Niddle.transform.position,Money1.transform.position);
                b = Vector2.Distance(Niddle.transform.position,Money2.transform.position);
                c = Vector2.Distance(Niddle.transform.position,Money3.transform.position);
                d = Vector2.Distance(Niddle.transform.position,Bomb1.transform.position);
                e = Vector2.Distance(Niddle.transform.position,Bomb2.transform.position);
                f = Vector2.Distance(Niddle.transform.position,Bomb3.transform.position);

                //최솟값 구하기
                Finalmin = Mathf.Min(a,b,c,d,e,f);

                //최솟값[결과]에 따른 명령어 실행
                if(a == Finalmin){
                    result_text = "2배 당첨!";
                    Re = 2;
                }
                
                else if(b == Finalmin){
                    result_text = "2배 당첨!";
                    Re = 2;
                }
                
                else if(c == Finalmin){
                    result_text = "2배 당첨!";
                    Re = 2;
                }

                else if(d == Finalmin){
                    Re = 1;
                }
                else if(e == Finalmin){
                    Re = 1;
                }
                else if(f == Finalmin){
                    Re = 1;
                }
                //모든 결과가 끝나고 start값과 버튼 텍스트 값을 바꿔준다.
                Button.start = 0;
                this.RS = GameObject.Find("Start"); 
                this.RS.GetComponent<Text>().text = "Start";
            }
            
        }
        //변하는 값에 따른 룰렛 속도 조절
        transform.Rotate(0f,0f,rotSpeed);

        //룰렛 종료 후 결과 변수에 넣기
        if(Re == 2){
            result_text = "당첨";
            
        }
        if(Re == 1){
            result_text = "꽝";
            
        }

        //결과 나타내기
        this.Result = GameObject.Find("Result"); 
        this.Result.GetComponent<Text>().text = result_text;
        
        
        
    }
}


```
- **RoulletButton**
```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

public class RoulletButton : MonoBehaviour,IPointerDownHandler
{   
    //초기 버튼값[start]를 위한 변수 선언
    public int start = 0;
    //버튼을 누른 다음 값을 출력하기 위한 변수 선언
    public string unclick = "Stop";
    //텍스트 출력을 위한 변수 선언
    GameObject Button;

    //버튼을 누를 시 해당 명령문을 실행
    public void OnPointerDown(PointerEventData eventData) //터치 시 변경 사항 넣기
    {
        start += 1;
        
        if(start == 1){
            ButtonStop(); //stop으로 바꾸는 함수선언
        }
        
    }

    //stop으로 바꾸는 함수
    public void ButtonStop()
    {
        this.Button = GameObject.Find("Start");
        this.Button.GetComponent<Text>().text = unclick;
    }
    // Start is called before the first frame update
    void Start()
    {
        
    }
   
    // Update is called once per frame
    void Update()
    {

    }
}



```