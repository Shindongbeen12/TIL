# **졸업작품 진행 내용 + 내용 정리**

## **[~3.24]_기본 틀 만들기**

**1.여러가지 UI[버튼,무기] 만들기**
- **Aseprite 사용,픽셀로 만들기** 

**2.png로 저장 후 깃허브 2D -> Project에 저장**

**3.Game창에서 그래픽 1080*1920으로 설정해주기**

**4.2D Project Sprite를 추가한 후 저장 한 이미지를 불러와준다.**
- **이 때 Project에서 저장한 UI를 Filter Mode -> Point(no filter)/Compression -> none 으로 설정해서 해상도를 올려준다.**

**5.각각 UI에 맞게 글을 넣어준다.[canvas -> Text ]**

**6.Order in Layer로 사진을 위로 보낼지 아래로 보낼지 순서를 숫자로 지정해준다**

**7.canvas 안에다가 UI->Button 및 UI->Image등 사진을 넣어준다.**

## **[~]_코딩공부**
**1.터치 구현 하기(완)(3.30)**
- **Canvas에서 UI 삽입하기**
```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

public class TouchCode : MonoBehaviour, IPointerDownHandler //IPointerDownHandler 사용하기
{
   

    
    

    public void OnPointerDown(PointerEventData eventData) //함수 추가하기
    {
        //클릭 시 실행 내용     
    }
        
        
    }
      
    // Start is called before the first frame update
    void Start()
    {   
        
    }

    // Update is called once per frame
    void Update()
    {
        
    }
}

``` 

**2.버튼 클릭 시 화면 변경 구현하기(완)(3.30)**
- **Canvas에서 UI - Button 삽입하고 GameObject를 하나 만들어 주고
만든 코드를 삽입해준다.그 후 버튼 On click에서 경로와 메소드 이름을 설정해준다.그 후 Build setting에서 사용 할 화면을 모두 Add 해준다.[SceneManager.LoadScene]사용하기**
```C#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;

public class UpgradeButton : MonoBehaviour
{
    public void SceneChange()
    {
        SceneManager.LoadScene("UpgradeSence");//이동할 Sence이름을 넣어준다.
    }
    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        
    }
}
```

**3.체력,몬스터 체력 감소,체력 모두 소진 시 몬스터 변경,강화,돈 구현(3.31~4.2)**
- **일단 몬스터 UI가 다른 Sence로 넘어가도 체력 설정이 변경되지 않고 유지 가능하도록 코드를 작성해준다.[DontDestroyOnLoad(gameObject)]사용하기.그 후 사용할 UI Canvas에 코드 삽입하기**
    
    - **TouchCode**
    ```C#
    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.UI;
    using UnityEngine.EventSystems;

    public class TouchCode : MonoBehaviour, IPointerDownHandler //터치 구현
    {
    UpgradeWaepon Attack; //UpgradeWaepon 코드의 변수,함수를 참조
    public int Health = 10; //초기 보스 체력
    public int Level = 1; //초기 레벨
    GameObject Gold; //게임머니 게임오브젝트 선언
    public int Money; //게임머니 선언
    public int NowDamage; //데미지 선언
    
    

    

    public void OnPointerDown(PointerEventData eventData) //터치 시 변경 사항 넣기
    {


        
        GameObject obj = GameObject.Find ("UpgradeyelloButton");
		if (obj != null)
			Attack = obj.GetComponent<UpgradeWaepon>();
        //강화 버튼을 누를 시 Attack이라는 변수에 UpgradeWaepon 코드 내용을 불러온다.
        
        Health -= Attack.WaeponDamage + 1; //터치 시 UpgradeWaepon코드에 있는 무기 데미지를 가져와 체력을 닳게 한다.
        
        this.Gold = GameObject.Find("Money_number");
        Money += Attack.WaeponDamage + 1;
        this.Gold.GetComponent<Text>().text = Money.ToString();
        //무기데미지에 맞게 돈을 String형태로 출력하게 한다.
        

        
        
        
        
        //보스 레벨 및 체력 설정 조건문
        if(Level == 1 && Health <=0){
            Level += 1;
            Health += 30;

        }
        if(Level == 2 && Health <=0){
            Level += 1;
            Health += 50;
        }
        if(Level == 3 && Health <=0){
            Level += 1;
            Health += 80;
        }
        if(Level == 4 && Health <=0){
            Level += 1;
            Health += 100;
        }
        if(Level == 5 && Health <=0){
            Level += 1;
            Health += 120;
        }

        
        
        
    }
      
    // Start is called before the first frame update
    void Start()
    {
        
        

        
    }

    // Update is called once per frame
    void Update()
    {
        //데미지를 실시간으로 출력해준다.
        GameObject obj = GameObject.Find ("UpgradeyelloButton");
		if (obj != null)
			Attack = obj.GetComponent<UpgradeWaepon>();
        NowDamage = Attack.WaeponDamage + 1;
        
    }
    }

    ``` 
    - **UpgradeWaepon**
    ```C#
    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.UI;
    using UnityEngine.EventSystems;

    public class UpgradeWaepon : MonoBehaviour,IPointerDownHandler
    {
    public int UpgradeValue; //랜덤값(확률을 넣기 위한 변수)
    public int WaeponDamage = 1;//초기 무기 데미지
    public int WaeponLevel = 1;//초기 무기 레벨
    public int Upgrade;//강화 확률 
    GameObject Index;//강화 확률을 넣기 위한 게임오브젝트 변수

    public void OnPointerDown(PointerEventData eventData)
    {

        

        UpgradeValue = Random.Range(0,101); //랜덤값을 넣어줘서 확률로 사용한다.
        Debug.Log(UpgradeValue);
        
        //무기레벨에 맞는 강화와 무기 레벨 조건문
        if(WaeponLevel == 1)
        {
            if(UpgradeValue > 0){
                WaeponDamage += 4;
                Debug.Log("2단계 무기 강화 성공 현재 데미지:5");
                Upgrade = 95;
                WaeponLevel += 1;
            }
            

        }
        else if(WaeponLevel == 2)
        {
            if(UpgradeValue > 5){
                WaeponDamage = 9;
                Debug.Log("3단계 무기 강화 성공! 현재 데미지:10");
                Upgrade = 90;
                WaeponLevel += 1;
            }
            else{
                Debug.Log("3단계 무기 강화 실패! 현재 데미지:5");
            }
        }
        else if(WaeponLevel == 3)
        {
            if(UpgradeValue > 10){
                WaeponDamage = 14;
                Debug.Log("4단계 무기 강화 성공! 현재 데미지:15");
                Upgrade = 85;
                WaeponLevel += 1;
            }
            else{
                Debug.Log("4단계 무기 강화 실패! 현재 데미지:10");
            }
        }
        else if(WaeponLevel == 4)
        {
            if(UpgradeValue > 15){
                WaeponDamage = 19;
                Debug.Log("5단계 무기 강화 성공! 현재 데미지:20");
                Upgrade = 80;
                WaeponLevel += 1;
            }
            else{
                Debug.Log("5단계 무기 강화 실패! 현재 데미지:15");
            }
 
        }
        else if(WaeponLevel == 5)
        {
            if(UpgradeValue > 20){
                WaeponDamage = 24;
                Debug.Log("6단계 무기 강화 성공! 현재 데미지:25");
                Upgrade = 75;
                WaeponLevel += 1;
            }
            else{
                Debug.Log("6단계 무기 강화 실패! 현재 데미지:20");
            }
        }

        //오브젝트인 강화 성공 확률(Upgrade_number)를 실시간으로 변화 시켜준다.
        this.Index = GameObject.Find("Upgrade_number");
    
        this.Index.GetComponent<Text>().text = Upgrade.ToString() + "%";
        
        
    }
    
    // Start is called before the first frame update
    
        
        
        

    
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        

        
    }
    }

    ``` 

    - **Changeimg[보스]**
    ```C#
    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.UI;

    public class Changeimg : TouchCode
    {
    private Image image; //Image 선언

    [SerializeField]
    private Sprite[] sprites; //Image Sprite 형식 선언
    
    // Start is called before the first frame update
    void Start()
    {
        
        //초기 이미지를 선언/불러온다
        image = GetComponent<Image>();
        image.sprite = sprites[0];
        
    }
    //보스레벨에 맞게 이미지를 변경하는 함수
    void Boss2(){
    
        image.sprite = sprites[1];
    }
    void Boss3(){
    
        image.sprite = sprites[2];
    }

    void Boss4(){
    
        image.sprite = sprites[3];
    }

    void Boss5(){
    
        image.sprite = sprites[4];
    }
    void Boss6(){
    
        image.sprite = sprites[5];
    }

    // Update is called once per frame

    //보스 레벨에 맞게 이미지를 변경하는 조건문/함수선언
    void Update()
    {
        if(Level == 2){
            Boss2();
        }
        if(Level == 3){
            Boss3();
        }
        if(Level == 4){
            Boss4();
        }
        if(Level == 5){
            Boss5();
        }
        if(Level == 6){
            Boss6();
        }
        
    }
    }
    ``` 
    - **Changeimg_Waepon**
    ```C#
    using System.Collections;
    using System.Collections.Generic;
    using UnityEngine;
    using UnityEngine.UI;

    public class Changeimg_Waepon : UpgradeWaepon
    {
    private Image image; //Image 선언
    UpgradeWaepon Waepons; //UpgradeWaepon 값을 넣기 위한 변수 선언

    [SerializeField]
    private Sprite[] sprites; //Image Sprite 형식 선언

    
    public int Waponsindex = 0; //조건문을 위한 변수 선언
    
    // Start is called before the first frame update
    void Start()
    {

        //초기에 값을 넣기 위해 obj라는 변수 선언에 UpgradeyelloButton에 있는 UpgradeWaepon 변수를 불러온다.  
        GameObject obj = GameObject.Find ("UpgradeyelloButton");
		if (obj != null){
			Waepons = obj.GetComponent<UpgradeWaepon>();
        }
        
        
        //초기 이미지를 선언/불러온다
        image = GetComponent<Image>();
        image.sprite = sprites[0];
    }
    //무기레벨에 맞게 이미지를 변경하는 함수
    void WLevel2(){
    
        image.sprite = sprites[1];
    }
    void WLevel3(){
    
        image.sprite = sprites[2];
    }

    void WLevel4(){
    
        image.sprite = sprites[3];
    }

    void WLevel5(){
    
        image.sprite = sprites[4];
    }
    void WLevel6(){
    
        image.sprite = sprites[5];
    }

    // Update is called once per frame

    //보스 레벨에 맞게 이미지를 변경하는 조건문/함수선언
    void Update()
    {
        //지속적으로 변화 시키기 위해 Updatde 문에다가 UpgradeWaepon 변수 값을 넣어준다.
        GameObject obj = GameObject.Find ("UpgradeyelloButton");
		if (obj != null){
			Waepons = obj.GetComponent<UpgradeWaepon>();
        }
        //변수 안에다가 레벨값을 넣어준다.
        Waponsindex = Waepons.WaeponLevel;  

        //레벨값에 맞는 이미지 변화를 위한 조건문
        if(Waponsindex == 2){
            WLevel2();
        }
        if(Waponsindex == 3){
            WLevel3();
        }
        if(Waponsindex == 4){
            WLevel4();
        }
        if(Waponsindex == 5){
            WLevel5();
        }
        if(Waponsindex == 6){
            WLevel6();
        }
        
    }
    }


    ```


**4.스킬 구현**
- **Start Sence에 버튼 넣어놓고 DontBreak코드 넣어놓기**

**5.스크롤 구현하기**  

**6.디자인**



